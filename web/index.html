<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>å‡çº§ LAN UI</title>
    <style>
        .seatCard {
            border: 1px solid #bbb;
            border-radius: 12px;
            padding: 10px 12px;
            min-width: 190px;
            background: #fff;
        }
        .seatCard.me { border-color: #4c9ffe; box-shadow: 0 0 0 2px rgba(76,159,254,.15); }
        .seatCard.turn { border-color: #f5a623; box-shadow: 0 0 0 2px rgba(245,166,35,.15); }
        .seatCard.owner { border-color: #34c759; box-shadow: 0 0 0 2px rgba(52,199,89,.15); }

        .seatTop { display:flex; justify-content:space-between; align-items:center; }
        .seatBadges { display:flex; gap:6px; align-items:center; font-size: 14px; }
        .badge { padding: 2px 8px; border-radius: 999px; border: 1px solid #ddd; background:#fafafa; font-size: 12px; }
        .badge.on { background:#eef; border-color:#cde; }
        .uid { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
        body { font-family: system-ui, -apple-system, Segoe UI, sans-serif; margin: 16px; }
        .row { display:flex; gap:12px; align-items:stretch; flex-wrap:wrap; }
        .panel { border:1px solid #ccc; padding:12px; border-radius:10px; }
        input { width: 140px; padding: 6px 8px; border-radius: 8px; border: 1px solid #bbb; }
        button { cursor:pointer; border:1px solid #bbb; background:#fff; border-radius:10px; padding:10px 12px; }
        button.primary { border-color:#4c9ffe; }
        button.danger { border-color:#d33; }
        button:disabled { opacity:.5; cursor:not-allowed; }

        .status {
            margin-top: 12px;
            padding: 10px 12px;
            border-radius: 10px;
            border: 1px solid #ddd;
            background: #fafafa;
            display:flex;
            flex-wrap:wrap;
            gap: 10px 16px;
            font-size: 14px;
        }
        .kv b { font-weight: 700; }
        .hint { color:#666; font-size: 12px; margin-top: 6px; }

        .cardsRow { display:flex; flex-wrap:wrap; gap:8px; }
        .rowTitle { font-weight:700; margin-bottom:8px; }

        .cardBtn {
            border: 1px solid #bbb;
            background: white;
            border-radius: 10px;
            padding: 8px 10px;
            min-width: 54px;
            text-align:center;
            user-select:none;
            font-size: 18px;
            line-height: 1;
        }
        .cardBtn.small { font-size: 16px; min-width: 46px; padding: 7px 9px; }
        .cardBtn.red { color: #d11; }
        .cardBtn.black { color: #111; }
        .cardBtn.selected {
            outline: 3px solid #4c9ffe;
            outline-offset: 0px;
            background: #f2f8ff;
            border-color: #4c9ffe;
        }

        pre { background:#f6f6f6; padding:10px; border-radius:10px; overflow:auto; max-height: 260px; }
    </style>
</head>

<body>
<h2>å‡çº§ - å‰ç«¯äº¤äº’ UIï¼ˆå¯é€‰ç‰Œ + å®šä¸»/Passï¼‰</h2>

<div class="row">
    <div class="panel">
        <div><b>è¿æ¥</b></div>
        <div style="margin-top:8px;">UID: <input id="uid" value="u1"/></div>
        <div style="margin-top:8px;">Room: <input id="room" value="default"/></div>
        <div style="margin-top:10px; display:flex; gap:8px; flex-wrap:wrap;">
            <button class="primary" id="btnConnect">Connect</button>
            <button id="btnDisconnect">Disconnect</button>
        </div>
        <div class="hint">å»ºè®®å¼€ 4 ä¸ªçª—å£ï¼Œuid æ”¹æˆ u1..u4ã€‚</div>
    </div>

    <div class="panel" style="flex:1; min-width: 360px;">
        <div><b>åº§ä½/å‡†å¤‡</b></div>
        <div style="margin-top:10px; display:flex; gap:8px; flex-wrap:wrap;">
            <button id="btnSit0">åä¸‹0</button>
            <button id="btnSit1">åä¸‹1</button>
            <button id="btnSit2">åä¸‹2</button>
            <button id="btnSit3">åä¸‹3</button>
            <button id="btnLeave">ç¦»åº§</button>
            <button id="btnReady">å‡†å¤‡</button>
            <button id="btnUnready">å–æ¶ˆå‡†å¤‡</button>
            <button id="btnStart">Start</button>
        </div>
        <div class="hint">å…¨å‘˜å‡†å¤‡åè‡ªåŠ¨å‘ç‰Œå¹¶è¿›å…¥å®šä¸»é˜¶æ®µã€‚</div>
    </div>

    <div class="panel" style="flex:1; min-width: 360px;">
        <div><b>æ“ä½œ</b></div>
        <div style="margin-top:10px; display:flex; gap:8px; flex-wrap:wrap;">
            <button id="btnCallTrump">å®šä¸»</button>
            <button id="btnPass">Pass</button>
            <button id="btnPutBottom">æ‰£åº•</button>
            <button id="btnClear" class="danger">æ¸…ç©ºé€‰æ‹©</button>

            <button id="btnChangeTrump" disabled>æ”¹ä¸»</button>
            <button id="btnAttackTrump" disabled>æ”»ä¸»</button>
            <button id="btnPlay" disabled>å‡ºç‰Œ</button>
        </div>
        <div class="hint">å½“å‰åªå®ç°ï¼šå®šä¸» / Pass / æ¸…ç©ºé€‰æ‹©ï¼ˆæ‰£åº•åç«¯æœªå®ç°ä¼š rejectï¼‰ã€‚</div>
    </div>
</div>

<div class="status" id="statusBar">
    <div class="kv"><b>WS</b>: <span id="stWS">-</span></div>
    <div class="kv"><b>phase</b>: <span id="stPhase">-</span></div>
    <div class="kv"><b>starter</b>: <span id="stStarter">-</span></div>
    <div class="kv"><b>callTurn</b>: <span id="stCallTurn">-</span></div>
    <div class="kv"><b>pass</b>: <span id="stPass">-</span></div>
    <div class="kv"><b>trump</b>: <span id="stTrump">-</span></div>
    <div class="kv"><b>myHand</b>: <span id="stHandN">0</span></div>
    <div class="kv"><b>myBottom</b>: <span id="stBottomN">0</span></div>
</div>
<div class="panel" style="margin-top:12px;">
    <div><b>åº§ä½</b>ï¼ˆğŸ‘‰=è½®åˆ°å®šä¸» / ğŸŸ¨=åå®¶(æ‰£åº•) / ğŸŸ¦=ä½ ï¼‰</div>
    <div id="seatBar" style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;"></div>
</div>


<div class="row" style="margin-top:12px;">
    <div class="panel" style="flex:1; min-width: 360px;">
        <div class="rowTitle">åº•ç‰Œï¼ˆä»…åå®¶åœ¨æ‰£åº•é˜¶æ®µå¯è§ï¼‰</div>
        <div class="cardsRow" id="bottomRow"></div>
        <div class="hint">åº•ç‰Œåªæœ‰åœ¨ phase=bottom ä¸”ä½ æ˜¯åå®¶æ—¶å¯è§ã€‚</div>
    </div>

    <div class="panel" style="flex:2; min-width: 360px;">
        <div class="rowTitle">æ‰‹ç‰Œ</div>
        <div class="cardsRow" id="handRow"></div>
        <div class="hint">ç‚¹å‡»ç‰Œé€‰ä¸­/å–æ¶ˆé€‰ä¸­ï¼›å®šä¸»ä¼šä»é€‰ä¸­ç‰Œé‡Œæå–ï¼šç‹ + æœ¬é˜Ÿçº§ç‰Œ(1æˆ–2å¼ )ã€‚</div>
    </div>
</div>

<div class="panel" style="margin-top:12px;">
    <div><b>æ—¥å¿—</b></div>
    <pre id="log"></pre>
</div>

<script src="./app.js"></script>
</body>
</html>
